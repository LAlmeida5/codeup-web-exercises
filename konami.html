<!DOCTYPE html>
<html>
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Macondo&family=Permanent+Marker&family=Zen+Loop&display=swap" rel="stylesheet">
    <title>Konami Code</title>
    <link rel="stylesheet" href="css/konami.css">
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-12 text-center">
            <h1 class="animate-character">Konami Code</h1>
        </div>
    </div>
</div>
<div id="executionContent" class="hidden">
    <p class="first">You's a <strong>Cheetah!!...</strong></p>
    <p class="second">Where your spots at Cheetah?!</p>
<!--    This is my "hidden text" that will only appear after a specific condition has been met.-->
</div>
<p contentEditable role='textbox' aria-multiline='true' class="hideMe">
    Click somewhere on the page to ensure focus.<br>
<!--    Then, enter any of the following cheat codes using your keyboard:-->
<!--    Then, enter the following cheat code using your keyboard or controller...-->
    Then, enter the following cheat code using your controller!
</p>

<p class="code">
    <span>&uarr;</span>
    <span>&uarr;</span>
    <span>&darr;</span>
    <span>&darr;</span>
    <span>&larr;</span>
    <span>&rarr;</span>
    <span>&larr;</span>
    <span>&rarr;</span>
    <span>B</span>
    <span>A</span>
</p>
<!--<p class="code">-->
<!--    <span>&darr;</span>-->
<!--    <span>&darr;</span>-->
<!--    <span>&uarr;</span>-->
<!--    <span>&uarr;</span>-->
<!--    <span>&larr;</span>-->
<!--    <span>&rarr;</span>-->
<!--    <span>&larr;</span>-->
<!--    <span>&rarr;</span>-->
<!--    <span>A</span>-->
<!--    <span>B</span>-->
<!--</p>-->
<!--<p class="code">-->
<!--    <span>&darr;</span>-->
<!--    <span>&darr;</span>-->
<!--    <span>&uarr;</span>-->
<!--    <span>&uarr;</span>-->
<!--    <span>&larr;</span>-->
<!--    <span>&rarr;</span>-->
<!--    <span>&larr;</span>-->
<!--    <span>&rarr;</span>-->
<!--    <span>A</span>-->
<!--    <span>B</span>-->
<!--</p>-->
<!--<p class="code">-->
<!--    <span>&darr;</span>-->
<!--    <span>&darr;</span>-->
<!--    <span>&uarr;</span>-->
<!--    <span>&uarr;</span>-->
<!--    <span>&larr;</span>-->
<!--    <span>&rarr;</span>-->
<!--    <span>&larr;</span>-->
<!--    <span>&rarr;</span>-->
<!--    <span>A</span>-->
<!--    <span>B</span>-->
<!--</p>-->

<script src="js/jquery-3.6.0.js"></script>
<script>
    "use strict";
    //this function logs the keycode for each keystroke
    $(document).keyup(function(event){
        console.log(event.keyCode);
    });
    let global = {

        konami: function() {
            let konamikeys = [38,38,40,40,37,39,37,39,66,65],
                started = false,
                count = 0;
            $(document).keydown(function(e){
                let reset = function() {
                    started = false;
                    count = 0;
                };
              let  key = e.keyCode;
                // Begin watching if first key in sequence was pressed.
                if(!started){
                    if(key === 38 || 40) {
                        started = true;
                    }
                }
                // This is tracking keystrokes and matching the keys to the correct sequence.
                // If it matches it counts or "increments", otherwise it resets the count of correct keys.

                if (started){
                    if (konamikeys[count] == key){
                        // match inrements the count.
                        count++;
                    } else {
                        // Incorrect key, restarts count.
                        reset();
                    }
                    if (count == 10){
                        // Hits the count to execute the following task.
                        $('body').css({'background-image': "url('img/metalgear.png')", 'background-size':'cover', 'background-attachment':'fixed'});
                        $('h1, .hideMe').css('visibility', 'hidden');
                        $('#executionContent').removeClass('hidden').addClass('showMe');
                        //This is where I left off at the end of the day.

                    }
                } else {
                    reset();
                }
            });
        }
    }

    global.konami();

</script>
</body>
</html>